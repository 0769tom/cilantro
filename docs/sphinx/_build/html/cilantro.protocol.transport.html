
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cilantro.protocol.transport package &#8212; cilantro 9000 BC documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="cilantro-protocol-transport-package">
<h1>cilantro.protocol.transport package<a class="headerlink" href="#cilantro-protocol-transport-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cilantro.protocol.transport.composer">
<span id="cilantro-protocol-transport-composer-module"></span><h2>cilantro.protocol.transport.composer module<a class="headerlink" href="#module-cilantro.protocol.transport.composer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cilantro.protocol.transport.composer.Composer">
<em class="property">class </em><code class="descclassname">cilantro.protocol.transport.composer.</code><code class="descname">Composer</code><span class="sig-paren">(</span><em>interface</em>, <em>signing_key</em>, <em>name='Node'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.add_dealer">
<code class="descname">add_dealer</code><span class="sig-paren">(</span><em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.add_dealer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.add_dealer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a dealer socket at url. Dealers are like ‘async requesters’, and can connect to a single Router socket (1-1)
(side note: A router socket, however, can connect to N dealers)
‘id’ socketopt for the dealer socket will be this node’s verifying key
:param url: The URL of the router that the created dealer socket should CONNECT to.
:type vk: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.add_pub">
<code class="descname">add_pub</code><span class="sig-paren">(</span><em>ip=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.add_pub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.add_pub" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a publisher socket that BINDS to ‘url’
:param url: The URL to publish under.
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.add_router">
<code class="descname">add_router</code><span class="sig-paren">(</span><em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.add_router"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.add_router" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a router socket at url. Routers are like ‘async repliers’, and can connect to many Dealer sockets (N-1)
:param url: The URL the router socket should BIND to
:type vk: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.add_sub">
<code class="descname">add_sub</code><span class="sig-paren">(</span><em>filter</em>, <em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.add_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.add_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects the subscriber socket to listen to ‘URL’ with filter ‘filter’.
:param url: The URL to CONNECT the sub socket to (ex ‘<a class="reference external" href="tcp://17.1.3.4:4200">tcp://17.1.3.4:4200</a>’)
:type filter: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param filter: The filter to subscribe to. Only data published with this filter will be received. Currently,
only one filter per CONNECT is supported.</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.pause">
<code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.pause" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.remove_pub">
<code class="descname">remove_pub</code><span class="sig-paren">(</span><em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.remove_pub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.remove_pub" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a publisher (duh)
:param url: The URL of the router that the created dealer socket should CONNECT to.
:type vk: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.remove_sub">
<code class="descname">remove_sub</code><span class="sig-paren">(</span><em>filter</em>, <em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.remove_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.remove_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop subscribing to a URL and filter. Note that all other subscriber connections will drop this filter as well
(so if there is another URL you are subscribing to with the same filter, that sub will no longer work). The
pattern at this point is to have a single filter for each ‘node type’, ie witness/delegate/masternode.</p>
<p>If you wish to stop subscribing to a URL, but not necessarily a filter, then call this method and pass in an
empty string to FILTER. For example, a delegate might want to stop subscribing to a particular witness, but not
all witnesses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – The filter to subscribe to. Only multipart messages with this filter as the first frame will be</td>
</tr>
</tbody>
</table>
<p>received
:param url: The URL of the router that the created dealer socket should CONNECT to.
:type vk: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.remove_sub_filter">
<code class="descname">remove_sub_filter</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.remove_sub_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.remove_sub_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a filters from the sub socket. Unlike the remove_sub API, this does not disconnect a URL. It only
unsubscribes to ‘filter
:type filter: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param filter: A string to use as the filter frame. This filter will be unsubscribed.</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.remove_sub_url">
<code class="descname">remove_sub_url</code><span class="sig-paren">(</span><em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.remove_sub_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.remove_sub_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects the sub URL from url. Unlike the remove_sub API, this does not remove a filter from the
socket. It only disconnects from the url.
received
:param url: The URL of the router that the created dealer socket should CONNECT to.
:type vk: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param vk: The Node’s VK to connect to. This will be looked up in the overlay network</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.resume">
<code class="descname">resume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.resume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.resume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.send_pub_env">
<code class="descname">send_pub_env</code><span class="sig-paren">(</span><em>filter</em>, <em>envelope</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.send_pub_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.send_pub_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish envelope with filter frame ‘filter’.
:type filter: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param filter: A string to use as the filter frame
:type envelope: <a class="reference internal" href="cilantro.messages.envelope.html#cilantro.messages.envelope.envelope.Envelope" title="cilantro.messages.envelope.envelope.Envelope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Envelope</span></code></a>
:param envelope: An instance of Envelope</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.send_pub_msg">
<code class="descname">send_pub_msg</code><span class="sig-paren">(</span><em>filter</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.send_pub_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.send_pub_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish data with filter frame ‘filter’. An envelope (including a seal and the metadata) will be created from
the MessageBase. If you want to send an existing envelope, use send_pub_env
:type filter: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>
:param filter: A string to use as the filter frame
:type message: <a class="reference internal" href="cilantro.messages.base.html#cilantro.messages.base.base.MessageBase" title="cilantro.messages.base.base.MessageBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageBase</span></code></a>
:param message: A MessageBase subclass</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.send_reply">
<code class="descname">send_reply</code><span class="sig-paren">(</span><em>message</em>, <em>request_envelope</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.send_reply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.send_reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a reply message (via a Router socket) for the original reqeust in request_envelope (which came from a
Dealer socket). Replies envelope are created as a deterministic function of their original request envelope,
so that both parties (the sender and receiver) are in agreement on what the reply envelope should look like
:type message: <a class="reference internal" href="cilantro.messages.base.html#cilantro.messages.base.base.MessageBase" title="cilantro.messages.base.base.MessageBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageBase</span></code></a>
:param message: A MessageBase instance that denotes the reply data
:type request_envelope: <a class="reference internal" href="cilantro.messages.envelope.html#cilantro.messages.envelope.envelope.Envelope" title="cilantro.messages.envelope.envelope.Envelope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Envelope</span></code></a>
:param request_envelope: An Envelope instance that denotes the envelope of the original request that we are
replying to</p>
</dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.send_request_env">
<code class="descname">send_request_env</code><span class="sig-paren">(</span><em>envelope</em>, <em>timeout=0</em>, <em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.send_request_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.send_request_env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cilantro.protocol.transport.composer.Composer.send_request_msg">
<code class="descname">send_request_msg</code><span class="sig-paren">(</span><em>message</em>, <em>timeout=0</em>, <em>ip=''</em>, <em>vk=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/composer.html#Composer.send_request_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.composer.Composer.send_request_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO docstring</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cilantro.protocol.transport.router">
<span id="cilantro-protocol-transport-router-module"></span><h2>cilantro.protocol.transport.router module<a class="headerlink" href="#module-cilantro.protocol.transport.router" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cilantro.protocol.transport.router.Router">
<em class="property">class </em><code class="descclassname">cilantro.protocol.transport.router.</code><code class="descname">Router</code><span class="sig-paren">(</span><em>statemachine</em>, <em>name='Node'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/router.html#Router"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.router.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The Router class transports incoming data from the ReactorDaemon to the appropriate State Machine logic.</p>
<dl class="method">
<dt id="cilantro.protocol.transport.router.Router.route_callback">
<code class="descname">route_callback</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cilantro/protocol/transport/router.html#Router.route_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cilantro.protocol.transport.router.Router.route_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in a callback from a ReactorInterface, and invokes the appropriate receiver on the state machine</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cilantro.protocol.transport">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cilantro.protocol.transport" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cilantro.protocol.transport package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-cilantro.protocol.transport.composer">cilantro.protocol.transport.composer module</a></li>
<li><a class="reference internal" href="#module-cilantro.protocol.transport.router">cilantro.protocol.transport.router module</a></li>
<li><a class="reference internal" href="#module-cilantro.protocol.transport">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cilantro.protocol.transport.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, team@lamden.io.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/cilantro.protocol.transport.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>